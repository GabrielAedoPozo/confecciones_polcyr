---
import "../styles/style.css";
---

<section class="hero">
  <div class="slider" role="region" aria-label="Galería de productos" data-slider>
    <div class="slider__viewport">
      <ul class="slider__track" data-track>
        <li class="slide">
          <img src="/confecciones_polcyr/img/p1.jpg" alt="Producto 1" />
          <div class="slide-content">
            <div class="slide-text">
              <h1>Producción textil con altos estándares de calidad y cumplimiento</h1>
              <p>En Confecciones POLCYR confeccionamos cada prenda con dedicación, control y experiencia. Con más de 20 años en el sector, desarrollamos soluciones textiles que combinan diseño, precisión y cumplimiento, ofreciendo resultados confiables para marcas y empresas a nivel nacional e internacional.</p>
            </div>
          </div>
        </li>
        <li class="slide">
          <img src="/confecciones_polcyr/img/p2.jpg" alt="Producto 2" />
          <div class="slide-content">
            <div class="slide-text">
              <h1>Producción textil con altos estándares de calidad y cumplimiento</h1>
              <p>En Confecciones POLCYR confeccionamos cada prenda con dedicación, control y experiencia. Con más de 20 años en el sector, desarrollamos soluciones textiles que combinan diseño, precisión y cumplimiento, ofreciendo resultados confiables para marcas y empresas a nivel nacional e internacional.</p>
            </div>
          </div>
        </li>
        <li class="slide">
          <img src="/confecciones_polcyr/img/p3.jpg" alt="Producto 3" />
          <div class="slide-content">
            <div class="slide-text">
              <h1>Producción textil con altos estándares de calidad y cumplimiento</h1>
              <p>En Confecciones POLCYR confeccionamos cada prenda con dedicación, control y experiencia. Con más de 20 años en el sector, desarrollamos soluciones textiles que combinan diseño, precisión y cumplimiento, ofreciendo resultados confiables para marcas y empresas a nivel nacional e internacional.</p>
            </div>
          </div>
        </li>
        <li class="slide">
          <img src="/confecciones_polcyr/img/p4.png" alt="Producto 4" />
          <div class="slide-content">
            <div class="slide-text">
              <h1>Producción textil con altos estándares de calidad y cumplimiento</h1>
              <p>En Confecciones POLCYR confeccionamos cada prenda con dedicación, control y experiencia. Con más de 20 años en el sector, desarrollamos soluciones textiles que combinan diseño, precisión y cumplimiento, ofreciendo resultados confiables para marcas y empresas a nivel nacional e internacional.</p>
            </div>
          </div>
        </li>
        <li class="slide">
          <img src="/confecciones_polcyr/img/p5.png" alt="Producto 5" />
          <div class="slide-content">
            <div class="slide-text">
              <h1>Producción textil con altos estándares de calidad y cumplimiento</h1>
              <p>En Confecciones POLCYR confeccionamos cada prenda con dedicación, control y experiencia. Con más de 20 años en el sector, desarrollamos soluciones textiles que combinan diseño, precisión y cumplimiento, ofreciendo resultados confiables para marcas y empresas a nivel nacional e internacional.</p>
            </div>
          </div>
        </li>
        <li class="slide">
          <img src="/confecciones_polcyr/img/p6.png" alt="Producto 6" />
          <div class="slide-content">
            <div class="slide-text">
              <h1>Producción textil con altos estándares de calidad y cumplimiento</h1>
              <p>En Confecciones POLCYR confeccionamos cada prenda con dedicación, control y experiencia. Con más de 20 años en el sector, desarrollamos soluciones textiles que combinan diseño, precisión y cumplimiento, ofreciendo resultados confiables para marcas y empresas a nivel nacional e internacional.</p>
            </div>
          </div>
        </li>
      </ul>
    </div>
    <button class="slider__btn prev" data-action="prev">&#10094;</button>
    <button class="slider__btn next" data-action="next">&#10095;</button>
    <div class="slider__dots" data-dots></div>
  </div>

  <!-- Sección Sobre Nosotros integrada en el hero -->
  <div class="about-us">
    <div class="about-container">
      <div class="about-images">
        <div class="image-gallery">
          <img src="/confecciones_polcyr/img/nosotros.webp" alt="Equipo Polcyr Confecciones" class="gallery-img active" />
          <img src="/confecciones_polcyr/img/nosotros2.webp" alt="Instalaciones Polcyr" class="gallery-img" />
          <img src="/confecciones_polcyr/img/nosotros3.webp" alt="Proceso de producción" class="gallery-img" />
        </div>
        <div class="gallery-dots">
          <button class="gallery-dot active" data-index="0"></button>
          <button class="gallery-dot" data-index="1"></button>
          <button class="gallery-dot" data-index="2"></button>
        </div>
      </div>
      
      <div class="about-content">
        <h2>Sobre nosotros</h2>
        <h3>Comprometidos con la calidad en cada prenda</h3>
        <p>En Confecciones POLCYR elaboramos prendas que reflejan la identidad de cada marca. Nuestra experiencia y capacidad de producción nos permiten brindar soluciones textiles confiables, adaptadas a los requerimientos del mercado nacional e internacional.</p>
        
        <div class="stats">
          <div class="stat-item">
            <span class="stat-number">200,000+</span>
            <span class="stat-label">Prendas confeccionadas al mes</span>
          </div>
        </div>
        
        <div class="features">
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
              </svg>
            </div>
            <span>Calidad garantizada</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
              </svg>
            </div>
            <span>Producción adaptable</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
            </div>
            <span>Innovación constante</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
              </svg>
            </div>
            <span>Cumplimiento garantizado</span>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H16c-.8 0-1.54.37-2.01 1l-2.54 3.4c-.28.37-.28.85 0 1.22L14 16.5V22h2v-3.5h2V22h2zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9.5c0-.28-.22-.5-.5-.5H3c-.28 0-.5.22-.5.5V15H4v7h3.5z"/>
              </svg>
            </div>
            <span>Equipo especializado</span>
          </div>
        </div>
        
        <div class="features">
        
        <button class="cta-button">Más sobre nosotros</button>
      </div>
    </div>
  </div>

  <!-- Sección Nuestra Tecnología -->
  <div class="technology-section">
    <div class="technology-container">
      <div class="section-header">
        <h2>Nuestra Tecnología</h2>
        <p>Equipos de última generación para garantizar la máxima calidad en cada proceso productivo</p>
      </div>
      
      <div class="technology-grid">
        <div class="tech-card">
          <div class="tech-image">
            <img src="/confecciones_polcyr/img/p1.jpg" alt="Tejedora Industrial" />
            <div class="tech-overlay">
              <div class="tech-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
              </div>
            </div>
          </div>
          <div class="tech-content">
            <h3>Tejedora Industrial</h3>
            <p>Tecnología avanzada de tejido que permite crear tejidos uniformes y resistentes con diferentes tipos de fibras y patrones complejos.</p>
            <ul class="tech-features">
              <li>Alta velocidad de producción</li>
              <li>Control de calidad automático</li>
              <li>Versatilidad en tipos de tejido</li>
            </ul>
          </div>
        </div>

        <div class="tech-card">
          <div class="tech-image">
            <img src="/confecciones_polcyr/img/p2.jpg" alt="Estampadora Digital" />
            <div class="tech-overlay">
              <div class="tech-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                </svg>
              </div>
            </div>
          </div>
          <div class="tech-content">
            <h3>Estampadora Digital</h3>
            <p>Equipos de estampado digital de última generación que garantizan colores vibrantes y diseños precisos en cada prenda.</p>
            <ul class="tech-features">
              <li>Impresión de alta resolución</li>
              <li>Colores duraderos y brillantes</li>
              <li>Diseños personalizados</li>
            </ul>
          </div>
        </div>

        <div class="tech-card">
          <div class="tech-image">
            <img src="/confecciones_polcyr/img/p3.jpg" alt="Horno de Secado" />
            <div class="tech-overlay">
              <div class="tech-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </div>
            </div>
          </div>
          <div class="tech-content">
            <h3>Horno de Secado</h3>
            <p>Sistema de secado controlado que asegura el curado perfecto de tintes y acabados, manteniendo la integridad de las fibras.</p>
            <ul class="tech-features">
              <li>Control de temperatura preciso</li>
              <li>Secado uniforme y eficiente</li>
              <li>Conservación de propiedades textiles</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sección Por qué POLCYR -->
  <div class="why-polcyr-section">
    <div class="why-polcyr-container">
      <div class="section-header">
        <h2>¿Por qué Confecciones POLCYR?</h2>
        <p>Combinamos experiencia, tecnología y compromiso para ofrecer soluciones textiles confiables en cada pedido.</p>
      </div>
      
      <div class="why-grid">
        <div class="why-card">
          <div class="why-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <h3>Calidad garantizada</h3>
          <p>Prendas confeccionadas con precisión, duraderas y de alto estándar.</p>
        </div>

        <div class="why-card">
          <div class="why-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
          <h3>Producción eficiente</h3>
          <p>Organización y control que garantizan resultados confiables en cada etapa.</p>
        </div>

        <div class="why-card">
          <div class="why-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
            </svg>
          </div>
          <h3>Alta capacidad productiva</h3>
          <p>Procesos optimizados que permiten cumplir con pedidos grandes y tiempos estrictos.</p>
        </div>

        <div class="why-card">
          <div class="why-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
          <h3>Atención personalizada</h3>
          <p>Adaptamos nuestros procesos a las necesidades de cada cliente.</p>
        </div>

        <div class="why-card">
          <div class="why-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
            </svg>
          </div>
          <h3>Experiencia internacional</h3>
          <p>Confianza y eficiencia en mercados nacionales e internacionales.</p>
        </div>

        <div class="why-card">
          <div class="why-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zM4 19h16v2H4z"/>
              <path d="m12 2l-8 6h16z"/>
            </svg>
          </div>
          <h3>Innovación constante</h3>
          <p>Mejoramos continuamente técnicas y procesos para mayor calidad.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Sección Clientes -->
  <div class="clients-section">
    <div class="clients-container">
      <div class="section-header">
        <h2>Nuestros Clientes</h2>
        <p>Trabajamos con marcas nacionales e internacionales que confían en nuestra calidad y experiencia</p>
      </div>
      
      <!-- Clientes Nacionales -->
      <div class="clients-category">
        <h3>Clientes Nacionales</h3>
        <div class="clients-grid">
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional.png" alt="Cliente Nacional 1" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional2.png" alt="Cliente Nacional 2" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional3.png" alt="Cliente Nacional 3" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional4.png" alt="Cliente Nacional 4" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional5.png" alt="Cliente Nacional 5" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional6.png" alt="Cliente Nacional 6" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional7.png" alt="Cliente Nacional 7" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional8.png" alt="Cliente Nacional 8" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional9.png" alt="Cliente Nacional 9" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/nacional10.png" alt="Cliente Nacional 10" />
          </div>
        </div>
      </div>

      <!-- Clientes Internacionales -->
      <div class="clients-category">
        <h3>Clientes Internacionales</h3>
        <div class="clients-grid international">
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/extranjero.png" alt="Cliente Internacional 1" />
          </div>
          <div class="client-logo">
            <img src="/confecciones_polcyr/img/extranjero2.png" alt="Cliente Internacional 2" />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script defer>
  // Slider infinito con clones
  function initSlider() {
    const sliders = document.querySelectorAll('[data-slider]');
    
    sliders.forEach(slider => {
      if (slider.dataset.initialized) return;
      slider.dataset.initialized = 'true';
      
      const track = slider.querySelector('[data-track]');
      const originalSlides = Array.from(track.children);
      const total = originalSlides.length;
      
      // Crear clones para loop infinito
      const firstClone = originalSlides[0].cloneNode(true);
      const lastClone = originalSlides[total - 1].cloneNode(true);
      
      track.appendChild(firstClone);
      track.insertBefore(lastClone, track.firstChild);
      
      const nextBtn = slider.querySelector('[data-action="next"]');
      const prevBtn = slider.querySelector('[data-action="prev"]');
      const dotsContainer = slider.querySelector('[data-dots]');
      
      let currentIndex = 1; // Empezar en el primer slide real
      let interval;
      let isTransitioning = false;
      
      // Crear dots solo para slides originales
      dotsContainer.innerHTML = '';
      originalSlides.forEach((_, i) => {
        const dot = document.createElement('button');
        dot.className = 'dot';
        dot.addEventListener('click', () => goToSlide(i + 1));
        dotsContainer.appendChild(dot);
      });
      const dots = Array.from(dotsContainer.children);
      
      function updateDots() {
        const activeIndex = ((currentIndex - 1 + total) % total);
        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === activeIndex);
        });
      }
      
      function goToSlide(index, withTransition = true) {
        if (isTransitioning) return;
        
        currentIndex = index;
        track.style.transition = withTransition ? 'transform 400ms ease' : 'none';
        track.style.transform = `translateX(-${currentIndex * 100}%)`;
        updateDots();
        
        if (withTransition) {
          isTransitioning = true;
        }
      }
      
      function handleTransitionEnd() {
        isTransitioning = false;
        
        if (currentIndex === 0) {
          // Llegamos al clon del último, saltar al último real
          currentIndex = total;
          goToSlide(currentIndex, false);
        } else if (currentIndex === total + 1) {
          // Llegamos al clon del primero, saltar al primero real
          currentIndex = 1;
          goToSlide(currentIndex, false);
        }
      }
      
      track.addEventListener('transitionend', handleTransitionEnd);
      
      function nextSlide() {
        goToSlide(currentIndex + 1);
      }
      
      function prevSlide() {
        goToSlide(currentIndex - 1);
      }
      
      function startAutoplay() {
        clearInterval(interval);
        interval = setInterval(nextSlide, 2500); // Reducir a 2.5 segundos para que se vea más movimiento
      }
      
      function stopAutoplay() {
        clearInterval(interval);
      }
      
      // Event listeners
      nextBtn.addEventListener('click', () => {
        nextSlide();
        startAutoplay(); // Reiniciar autoplay
      });
      
      prevBtn.addEventListener('click', () => {
        prevSlide();
        startAutoplay(); // Reiniciar autoplay
      });
      
      // Pausar en hover
      slider.addEventListener('mouseenter', stopAutoplay);
      slider.addEventListener('mouseleave', startAutoplay);
      
      // Pausar cuando la pestaña no está visible
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
          stopAutoplay();
        } else {
          startAutoplay();
        }
      });
      
      // Inicializar
      goToSlide(currentIndex, false);
      startAutoplay();
    });
  }
  
  // Mini galería de imágenes para la sección sobre nosotros
  function initAboutGallery() {
    const dots = document.querySelectorAll('.gallery-dot');
    const images = document.querySelectorAll('.gallery-img');
    
    if (dots.length === 0 || images.length === 0) return;
    
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        // Remover active de todos
        dots.forEach(d => d.classList.remove('active'));
        images.forEach(img => img.classList.remove('active'));
        
        // Activar el seleccionado
        dot.classList.add('active');
        images[index].classList.add('active');
      });
    });
    
    // Auto-cambio cada 4 segundos
    let currentIndex = 0;
    setInterval(() => {
      dots.forEach(d => d.classList.remove('active'));
      images.forEach(img => img.classList.remove('active'));
      
      currentIndex = (currentIndex + 1) % images.length;
      dots[currentIndex].classList.add('active');
      images[currentIndex].classList.add('active');
    }, 4000);
  }
  
  // Menu responsive
  function initMobileMenu() {
    const menuToggle = document.querySelector('.menu-toggle');
    const navMenu = document.querySelector('.nav-menu');
    const menuOverlay = document.querySelector('.menu-overlay');
    
    if (!menuToggle || !navMenu) return;
    
    // Crear overlay si no existe
    if (!menuOverlay) {
      const overlay = document.createElement('div');
      overlay.className = 'menu-overlay';
      document.body.appendChild(overlay);
    }
    
    const overlay = document.querySelector('.menu-overlay');
    
    menuToggle.addEventListener('click', () => {
      navMenu.classList.toggle('active');
      overlay.classList.toggle('active');
      document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : 'auto';
    });
    
    // Cerrar menu al hacer click en overlay
    overlay.addEventListener('click', () => {
      navMenu.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });
    
    // Cerrar menu al hacer click en un enlace
    navMenu.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        navMenu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
      });
    });
    
    // Cerrar menu al cambiar tamaño de pantalla
    window.addEventListener('resize', () => {
      if (window.innerWidth > 768) {
        navMenu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
    });
  }
  
  // Ejecutar cuando el DOM esté listo
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
      initSlider();
      initAboutGallery();
      initMobileMenu();
    });
  } else {
    initSlider();
    initAboutGallery();
    initMobileMenu();
  }
</script>

