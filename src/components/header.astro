---
// Componente de header minimalista para Polcyr Confecciones
---
<header class="site-header">
	<nav class="nav" data-open="false">
		<a class="brand" href="/" aria-label="Inicio">
			<img src="/confecciones_polcyr/img/logoPrincipal.png" alt="Polcyr Confecciones" height="100" />
		</a>

		<button class="menu-toggle" aria-label="Abrir menÃº">â˜°</button>

		<ul class="nav-menu">
			<li><a href="#inicio" data-es="Inicio" data-en="Home">Inicio</a></li>
			<li><a href="/confecciones_polcyr/nosotros" data-es="Nosotros" data-en="About Us">Nosotros</a></li>
			<li><a href="#servicios" data-es="Servicios" data-en="Services">Servicios</a></li>
			<li><a href="#productos" data-es="Productos" data-en="Products">Productos</a></li>
			<li><a href="#clientes" data-es="Clientes" data-en="Clients">Clientes</a></li>
			<li><a href="/confecciones_polcyr/contacto" data-es="Contacto" data-en="Contact">Contacto</a></li>
		</ul>

		<div class="header-actions">
			<button class="language-toggle" id="languageToggle" aria-label="Cambiar idioma">
				<span class="lang-flag" id="currentFlag">ðŸ‡ªðŸ‡¸</span>
				<span class="lang-text" id="currentLang" data-es="ES" data-en="EN">ES</span>
			</button>
		</div>
	</nav>
</header>

<style>
	:root {
		--brand-blue: #1565d8; 
		--text: #0f172a;       
		--muted: #e5e7eb;     
		--bg: #ffffff;
	}

	.site-header {
		position: sticky;
		top: 0;
		z-index: 50;
		background: var(--bg);
		border-bottom: 1px solid var(--muted);
		backdrop-filter: saturate(1.1) blur(6px);
	}

	.nav {
		max-width: 1100px;
		margin: 0 auto;
		padding: 0.75rem 1rem;
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 1rem;
	}

	.brand {
		display: inline-flex;
		align-items: center;
		gap: 0.6rem;
		text-decoration: none;
		color: var(--text);
		font-weight: 600;
		letter-spacing: 0.2px;
	}

	.brand-text {
		display: none;
	}
	@media (min-width: 520px) {
		.brand-text { display: inline-block; }
	}

	.links {
		list-style: none;
		margin: 0;
		padding: 0;
		display: flex;
		align-items: center;
		gap: 1.25rem;
	}

	.links a {
		color: var(--text);
		text-decoration: none;
		font-weight: 500;
		padding: 0.4rem 0.2rem;
		border-radius: 8px;
		transition: color .6s ease, background-color .6s ease;
	}

	.links a:hover {
		color: var(--brand-blue);
	}

	.links .cta {
		color: #fff;
		background: var(--brand-blue);
		padding: 0.5rem 0.9rem;
		border-radius: 999px;
		box-shadow: 0 4px 14px rgba(21,101,216,0.18);
        transition: 1s ease;
	}
	.links .cta:hover {
		background: darken(var(--brand-blue));
        border: 1px solid var(--brand-blue);
	}

	.menu-toggle {
		display: none;
		align-items: center;
		justify-content: center;
		width: 40px;
		height: 40px;
		border: 1px solid var(--muted);
		border-radius: 10px;
		background: transparent;
		color: var(--text);
		cursor: pointer;
	}

	/* Mobile */
	@media (max-width: 800px) {
		.menu-toggle { display: inline-flex; }
		.links {
			position: absolute;
			top: calc(100% + 8px);
			right: 1rem;
			background: var(--bg);
			border: 1px solid var(--muted);
			box-shadow: 0 8px 30px rgba(0,0,0,0.06);
			border-radius: 12px;
			padding: 0.6rem;
			gap: 0.2rem;
			display: none;
			flex-direction: column;
			min-width: 200px;
		}
		.nav[data-open="true"] .links {
			display: flex;
		}
		.links a { padding: 0.6rem 0.7rem; width: 100%; }
		.links .cta { width: 100%; text-align: center; }
	}

</style>

<script is:inline>
	// Sistema de traducciÃ³n inline para evitar problemas de carga
	class LanguageManager {
		constructor() {
			this.currentLanguage = localStorage.getItem('language') || 'es';
			this.translations = {
				es: {
					// Header
					'Inicio': 'Inicio',
					'Nosotros': 'Nosotros',
					'Servicios': 'Servicios',
					'Productos': 'Productos',
					'Clientes': 'Clientes',
					'Contacto': 'Contacto'
				},
				en: {
					// Header
					'Inicio': 'Home',
					'Nosotros': 'About Us',
					'Servicios': 'Services',
					'Productos': 'Products',
					'Clientes': 'Clients',
					'Contacto': 'Contact'
				}
			};
			this.init();
		}

		init() {
			this.updateLanguageButton();
			this.translatePage();
			
			// Event listener para el botÃ³n de idioma
			const languageToggle = document.getElementById('languageToggle');
			if (languageToggle) {
				languageToggle.addEventListener('click', () => {
					this.toggleLanguage();
				});
			}
		}

		toggleLanguage() {
			this.currentLanguage = this.currentLanguage === 'es' ? 'en' : 'es';
			localStorage.setItem('language', this.currentLanguage);
			this.updateLanguageButton();
			this.translatePage();
			
			// Disparar evento para que otros componentes se enteren del cambio
			window.dispatchEvent(new CustomEvent('languageChanged', {
				detail: { language: this.currentLanguage }
			}));
		}

		updateLanguageButton() {
			const flag = document.getElementById('currentFlag');
			const text = document.getElementById('currentLang');
			
			if (flag && text) {
				if (this.currentLanguage === 'es') {
					flag.textContent = 'ðŸ‡ªðŸ‡¸';
					text.textContent = 'ES';
				} else {
					flag.textContent = 'ðŸ‡ºðŸ‡¸';
					text.textContent = 'EN';
				}
			}
		}

		translatePage() {
			// Traducir elementos con data-es y data-en
			document.querySelectorAll('[data-es]').forEach(element => {
				const esText = element.getAttribute('data-es');
				const enText = element.getAttribute('data-en');
				
				if (this.currentLanguage === 'es' && esText) {
					element.textContent = esText;
				} else if (this.currentLanguage === 'en' && enText) {
					element.textContent = enText;
				}
			});
		}
	}

	// Menu responsive
	function initMobileMenu() {
		const menuToggle = document.querySelector('.menu-toggle');
		const navMenu = document.querySelector('.nav-menu');
		let menuOverlay = document.querySelector('.menu-overlay');
		
		if (!menuToggle || !navMenu) return;
		
		// Crear overlay si no existe
		if (!menuOverlay) {
			const overlay = document.createElement('div');
			overlay.className = 'menu-overlay';
			overlay.style.cssText = `
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0,0,0,0.5);
				z-index: 998;
			`;
			document.body.appendChild(overlay);
			menuOverlay = overlay;
		}
		
		menuToggle.addEventListener('click', () => {
			navMenu.classList.toggle('active');
			menuOverlay.classList.toggle('active');
			menuOverlay.style.display = navMenu.classList.contains('active') ? 'block' : 'none';
			document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : 'auto';
		});
		
		// Cerrar menu al hacer click en overlay
		menuOverlay.addEventListener('click', () => {
			navMenu.classList.remove('active');
			menuOverlay.classList.remove('active');
			menuOverlay.style.display = 'none';
			document.body.style.overflow = 'auto';
		});
		
		// Cerrar menu al hacer click en un enlace
		navMenu.querySelectorAll('a').forEach(link => {
			link.addEventListener('click', () => {
				navMenu.classList.remove('active');
				menuOverlay.classList.remove('active');
				menuOverlay.style.display = 'none';
				document.body.style.overflow = 'auto';
			});
		});
		
		// Cerrar menu al cambiar tamaÃ±o de pantalla
		window.addEventListener('resize', () => {
			if (window.innerWidth > 768) {
				navMenu.classList.remove('active');
				menuOverlay.classList.remove('active');
				menuOverlay.style.display = 'none';
				document.body.style.overflow = 'auto';
			}
		});
	}

	// Inicializar
	if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', () => {
			new LanguageManager();
			initMobileMenu();
		});
	} else {
		new LanguageManager();
		initMobileMenu();
	}

	// Hacer disponible globalmente
	window.LanguageManager = LanguageManager;
</script>